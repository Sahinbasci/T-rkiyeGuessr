(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6706:function(e,t,a){Promise.resolve().then(a.bind(a,5395))},5395:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(7437),l=a(2265),r=a(5236),n=a(516);let o=(0,r.ZF)({apiKey:"AIzaSyChX9qroh1RAeAwTScCXZPwnyowbz8xADo",authDomain:"turkiye-guessr.firebaseapp.com",projectId:"turkiye-guessr",storageBucket:"turkiye-guessr.firebasestorage.app",messagingSenderId:"966819551700",appId:"1:966819551700:web:154b41a874e8127df1de41",databaseURL:"https://turkiye-guessr-default-rtdb.firebaseio.com"}),i=(0,n.N8)(o),c={north:42,south:36,east:45,west:26},u={maxScore:5e3,maxDistance:500};function d(e){return Math.PI/180*e}function m(e){let{lat:t,lng:a}=e;return!(t<36)&&!(t>42)&&!(a<26)&&!(a>45)&&(!(t>41.5)||!(a<32))&&(!(t>41.8)||!(a>32)||!(a<37))&&(!(a<27)||!(t<40))&&(!(t<36.2)||!(a<32))&&(!(t<36.5)||!(a>35))&&(!(a>43.5)||!(t>41))&&(!(t<36.5)||!(a>36)||!(a<42))}function x(){return{lat:39,lng:35}}function f(){return Math.random().toString(36).substring(2,15)}var p=a(7551);let g={darkMapStyles:[{elementType:"geometry",stylers:[{color:"#1a1a24"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a1a24"}]},{elementType:"labels.text.fill",stylers:[{color:"#8a8a9a"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#3a3a4a"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#b5b5c5"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#ef4444"},{weight:2}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#2a2a38"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3a3a4a"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1a2a"}]}],streetViewOptions:{addressControl:!1,fullscreenControl:!1,enableCloseButton:!1,showRoadLabels:!1,zoomControl:!1,panControl:!1,linksControl:!0,motionTracking:!1,motionTrackingControl:!1},guessMapOptions:{disableDefaultUI:!0,zoomControl:!0,scrollwheel:!0,gestureHandling:"greedy",clickableIcons:!1,minZoom:5,maxZoom:18},markers:{guess:{path:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fillColor:"#ef4444",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:2},actual:{path:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fillColor:"#22c55e",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:2}}},y={north:43,south:35,east:46,west:25},h=null,b=!1;var j=a(9321),v=a(1240),w=a(2468),k=a(6884),N=a(957),C=a(8094),S=a(933),O=a(1902),R=a(5016),T=a(1976),M=a(9590);let z=["#ef4444","#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"];function I(){let[e,t]=(0,l.useState)("menu"),[a,r]=(0,l.useState)(""),[o,I]=(0,l.useState)(""),[D,E]=(0,l.useState)(!1),[L,G]=(0,l.useState)(null),{room:H,playerId:P,currentPlayer:Z,isHost:V,players:A,error:B,isLoading:K,createRoom:F,joinRoom:U,startGame:W,submitGuess:_,checkAllGuessed:X,nextRound:q,leaveRoom:J,restartGame:Y}=function(){var e;let[t,a]=(0,l.useState)(null),[s,r]=(0,l.useState)(""),[o,c]=(0,l.useState)(""),[m,x]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!(null==t?void 0:t.id))return;let e=(0,n.iH)(i,"rooms/".concat(t.id)),s=(0,n.jM)(e,e=>{let t=e.val();t?a(t):(a(null),x("Oda silindi veya bulunamadı"))});return()=>s()},[null==t?void 0:t.id]);let y=(0,l.useCallback)(async e=>{g(!0),x(null);try{let t=function(){let e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",t="";for(let a=0;a<6;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),s=f(),l={id:t,hostId:s,status:"waiting",currentRound:0,totalRounds:5,players:{[s]:{id:s,name:e,isHost:!0,totalScore:0,currentGuess:null,hasGuessed:!1,roundScores:[]}},currentLocation:null,currentPanoId:null,roundResults:null};return await (0,n.t8)((0,n.iH)(i,"rooms/".concat(t)),l),r(s),c(e),a(l),t}catch(e){return x("Oda oluşturulamadı"),null}finally{g(!1)}},[]),h=(0,l.useCallback)(async(e,t)=>{g(!0),x(null);try{let s=(0,n.iH)(i,"rooms/".concat(e)),l=await (0,n.U2)(s);if(!l.exists())return x("Oda bulunamadı"),!1;let o=l.val();if("waiting"!==o.status)return x("Oyun zaten başlamış"),!1;if(Object.keys(o.players||{}).length>=8)return x("Oda dolu (max 8 kişi)"),!1;let u=f();return await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(e,"/players")),{[u]:{id:u,name:t,isHost:!1,totalScore:0,currentGuess:null,hasGuessed:!1,roundScores:[]}}),r(u),c(t),a({...o,id:e}),!0}catch(e){return x("Odaya katılınamadı"),!1}finally{g(!1)}},[]),b=(0,l.useCallback)(async(e,a)=>{if(!t||s!==t.hostId)return;let l={};Object.values(t.players).forEach(e=>{l[e.id]={...e,currentGuess:null,hasGuessed:!1}}),await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id)),{status:"playing",currentRound:1,currentLocation:e,currentPanoId:a,players:l,roundResults:null})},[t,s]),j=(0,l.useCallback)(async e=>{t&&s&&await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id,"/players/").concat(s)),{currentGuess:e,hasGuessed:!0})},[t,s]),v=(0,l.useCallback)(async()=>{if(!t||s!==t.hostId)return;let e=(await (0,n.U2)((0,n.iH)(i,"rooms/".concat(t.id)))).val();if(!(null==e?void 0:e.players))return;let a=Object.values(e.players);if(a.length>0&&a.every(e=>e.hasGuessed)&&e.currentLocation){let t=a.map(t=>{let a=t.currentGuess?function(e,t){let a=d(t.lat-e.lat),s=d(t.lng-e.lng),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(d(e.lat))*Math.cos(d(t.lat))*Math.sin(s/2)*Math.sin(s/2);return Math.round(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*63710)/10}(e.currentLocation,t.currentGuess):9999,s=function(e){let{maxScore:t,maxDistance:a}=u;return e<=.1?t:e>=a?0:Math.round(t*Math.exp(-(e/a*3)))}(a);return{odlayerId:t.id,playerName:t.name,guess:t.currentGuess||{lat:0,lng:0},distance:a,score:s}}),s={};a.forEach(e=>{let a=t.find(t=>t.odlayerId===e.id),l=e.roundScores||[];s[e.id]={...e,totalScore:(e.totalScore||0)+((null==a?void 0:a.score)||0),roundScores:[...l,(null==a?void 0:a.score)||0]}}),await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(e.id)),{status:"roundEnd",roundResults:t,players:s})}},[t,s]),w=(0,l.useCallback)(async(e,a)=>{if(t&&s===t.hostId){if(t.currentRound>=t.totalRounds)await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id)),{status:"gameOver"});else{let s={};Object.values(t.players).forEach(e=>{s[e.id]={...e,currentGuess:null,hasGuessed:!1}}),await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id)),{status:"playing",currentRound:t.currentRound+1,currentLocation:e,currentPanoId:a,players:s,roundResults:null})}}},[t,s]),k=(0,l.useCallback)(async()=>{if(!t||!s||!t.players)return;let e=Object.values(t.players);if(1===e.length)await (0,n.Od)((0,n.iH)(i,"rooms/".concat(t.id)));else if(await (0,n.Od)((0,n.iH)(i,"rooms/".concat(t.id,"/players/").concat(s))),s===t.hostId){let a=e.find(e=>e.id!==s);a&&(await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id)),{hostId:a.id}),await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id,"/players/").concat(a.id)),{isHost:!0}))}a(null),r("")},[t,s]),N=(0,l.useCallback)(async()=>{if(!t||s!==t.hostId)return;let e={};Object.values(t.players).forEach(t=>{e[t.id]={...t,totalScore:0,currentGuess:null,hasGuessed:!1,roundScores:[]}}),await (0,n.Vx)((0,n.iH)(i,"rooms/".concat(t.id)),{status:"waiting",currentRound:0,currentLocation:null,currentPanoId:null,roundResults:null,players:e})},[t,s]),C=(null==t?void 0:null===(e=t.players)||void 0===e?void 0:e[s])||null,S=s===(null==t?void 0:t.hostId),O=(null==t?void 0:t.players)?Object.values(t.players):[];return{room:t,playerId:s,playerName:o,currentPlayer:C,isHost:S,players:O,error:m,isLoading:p,createRoom:y,joinRoom:h,startGame:b,submitGuess:j,checkAllGuessed:v,nextRound:w,leaveRoom:k,restartGame:N}}(),{isLoading:Q,streetViewRef:$,loadNewLocation:ee,showStreetView:et}=function(){let[e,t]=(0,l.useState)(!1),[a,s]=(0,l.useState)(null),r=(0,l.useRef)(null),n=(0,l.useRef)(null),o=(0,l.useRef)(null),i=(0,l.useCallback)(async()=>{b||(h||(h=new p.aN({apiKey:"AIzaSyCaL61lJZyD2dKKp98DtHnPPF4GEpXdn94",version:"weekly",libraries:["geometry"]})),await h.load(),b=!0,o.current=new google.maps.StreetViewService)},[]),u=(0,l.useCallback)(async()=>{await i(),o.current||(o.current=new google.maps.StreetViewService);for(let t=0;t<50;t++){let a=function(){let{north:e,south:t,east:a,west:s}=c;return{lat:t+Math.random()*(e-t),lng:s+Math.random()*(a-s)}}();if(m(a))try{var e;let t=await new Promise(e=>{o.current.getPanorama({location:{lat:a.lat,lng:a.lng},radius:5e3,preference:google.maps.StreetViewPreference.BEST,source:google.maps.StreetViewSource.OUTDOOR},(t,a)=>{a===google.maps.StreetViewStatus.OK&&t?e(t):e(null)})});if(null==t?void 0:null===(e=t.location)||void 0===e?void 0:e.latLng){let e={lat:t.location.latLng.lat(),lng:t.location.latLng.lng()};if(m(e))return{coordinates:e,panoId:t.location.pano||""}}}catch(e){console.log("Attempt ".concat(t+1," failed"))}}return null},[i]),d=(0,l.useCallback)(async e=>{if(await i(),!r.current){console.log("streetViewRef is null");return}n.current=new google.maps.StreetViewPanorama(r.current,{...g.streetViewOptions,pano:e}),setTimeout(()=>{n.current&&n.current.setPano(e)},0)},[i]);return{isLoading:e,error:a,streetViewRef:r,loadNewLocation:(0,l.useCallback)(async()=>{t(!0),s(null);try{let e=await u();if(e)return await d(e.panoId),t(!1),e;return s("Konum bulunamadı"),t(!1),null}catch(e){return s("Bir hata oluştu"),t(!1),null}},[u,d]),showStreetView:d,initializeGoogleMaps:i}}(),{guessMapRef:ea,selectedLocation:es,initializeMap:el,resetMap:er,showResults:en}=function(e){let[t,a]=(0,l.useState)(null),s=(0,l.useRef)(null),r=(0,l.useRef)(null),n=(0,l.useRef)(null),o=(0,l.useRef)([]),i=(0,l.useRef)(null),c=(0,l.useCallback)(()=>{if(!s.current||"undefined"==typeof google)return;if(r.current){if(r.current.getDiv()!==s.current)r.current=null;else{let e=x();r.current.setCenter({lat:e.lat,lng:e.lng}),r.current.setZoom(6);return}}let t=x();r.current=new google.maps.Map(s.current,{...g.guessMapOptions,center:{lat:t.lat,lng:t.lng},zoom:6,styles:g.darkMapStyles,restriction:{latLngBounds:y,strictBounds:!1}}),r.current.addListener("click",t=>{if(!t.latLng)return;let s={lat:t.latLng.lat(),lng:t.latLng.lng()};a(s),e(s),n.current?n.current.setPosition(t.latLng):n.current=new google.maps.Marker({position:t.latLng,map:r.current,icon:{path:g.markers.guess.path,fillColor:g.markers.guess.fillColor,fillOpacity:g.markers.guess.fillOpacity,strokeColor:g.markers.guess.strokeColor,strokeWeight:g.markers.guess.strokeWeight,scale:g.markers.guess.scale,anchor:new google.maps.Point(12,24)},animation:google.maps.Animation.DROP})})},[e]);return{guessMapRef:s,selectedLocation:t,initializeMap:c,resetMap:(0,l.useCallback)(()=>{if(n.current&&(n.current.setMap(null),n.current=null),o.current.forEach(e=>e.setMap(null)),o.current=[],i.current&&(i.current.setMap(null),i.current=null),r.current){let e=x();r.current.setCenter({lat:e.lat,lng:e.lng}),r.current.setZoom(6)}a(null),e(null)},[e]),showResults:(0,l.useCallback)((e,t)=>{if(!r.current)return;let a=new google.maps.Marker({position:e,map:r.current,icon:{path:g.markers.actual.path,fillColor:g.markers.actual.fillColor,fillOpacity:g.markers.actual.fillOpacity,strokeColor:g.markers.actual.strokeColor,strokeWeight:g.markers.actual.strokeWeight,scale:2,anchor:new google.maps.Point(12,24)},zIndex:1e3,title:"Ger\xe7ek Konum"});o.current.push(a);let s=new google.maps.LatLngBounds;s.extend(e),t.forEach(t=>{let a=new google.maps.Marker({position:t.guess,map:r.current,icon:{path:g.markers.guess.path,fillColor:t.color,fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:1.5,anchor:new google.maps.Point(12,24)},title:t.playerName});o.current.push(a),s.extend(t.guess);let l=new google.maps.Polyline({path:[t.guess,e],strokeColor:t.color,strokeOpacity:.7,strokeWeight:2,map:r.current});o.current.push(l)}),r.current.fitBounds(s,50)},[]),map:r.current}}(G);(0,l.useEffect)(()=>{if("game"!==e||!(null==H?void 0:H.currentPanoId))return;let t=!1,a=0,s=async()=>{if(!t){if(!$.current){(a+=1)<20&&setTimeout(s,50);return}el(),await et(H.currentPanoId)}},l=setTimeout(s,0);return()=>{t=!0,clearTimeout(l)}},[e,null==H?void 0:H.currentPanoId,null==H?void 0:H.currentRound,et,el]),(0,l.useEffect)(()=>{if("game"!==e||!H||"playing"!==H.status)return;let t=!1,a=0,s=()=>{if(!t){if(a+=1,!(window.google&&window.google.maps)){a<60&&setTimeout(s,50);return}el()}};return s(),()=>{t=!0}},[e,null==H?void 0:H.status,null==H?void 0:H.currentRound,el]),(0,l.useEffect)(()=>{(null==H?void 0:H.status)==="playing"&&V&&A.every(e=>e.hasGuessed)&&A.length>0&&X()},[null==H?void 0:H.status,A,V,X]),(0,l.useEffect)(()=>{if((null==H?void 0:H.status)==="roundEnd"&&H.roundResults&&H.currentLocation){let e=H.roundResults.map((e,t)=>({playerName:e.playerName,guess:e.guess,color:z[t%z.length]}));en(H.currentLocation,e)}},[null==H?void 0:H.status,null==H?void 0:H.roundResults,null==H?void 0:H.currentLocation,en]);let eo=async()=>{a.trim()&&await F(a.trim())&&t("lobby")},ei=async()=>{a.trim()&&o.trim()&&await U(o.trim().toUpperCase(),a.trim())&&t("lobby")},ec=async()=>{let e=await ee();e&&(await W(e.coordinates,e.panoId),t("game"))},eu=async()=>{L&&(await _(L),V&&setTimeout(()=>{X()},300))},ed=async()=>{er(),G(null);let e=await ee();e&&await q(e.coordinates,e.panoId)},em=async()=>{er(),G(null),await Y(),t("lobby")};if((0,l.useEffect)(()=>{(null==H?void 0:H.status)==="playing"||(null==H?void 0:H.status)==="roundEnd"?t("game"):(null==H?void 0:H.status)==="waiting"&&"game"===e&&t("lobby")},[null==H?void 0:H.status,e]),"menu"===e)return(0,s.jsx)("main",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0a0a0f] via-[#12121a] to-[#0a0a0f]",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-red-600 to-red-700 mb-4",children:(0,s.jsx)(j.Z,{size:40,className:"text-white"})}),(0,s.jsx)("h1",{className:"text-5xl font-bold tracking-wider",style:{fontFamily:"var(--font-display)"},children:"T\xfcrkiyeGuessr"}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"Arkadaşlarınla T\xfcrkiye'yi Keşfet!"})]}),(0,s.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Adını gir...",value:a,onChange:e=>r(e.target.value),className:"input-dark text-lg",maxLength:15}),(0,s.jsxs)("button",{onClick:eo,disabled:!a.trim()||K,className:"btn-primary w-full py-4 text-lg flex items-center justify-center gap-2",children:[(0,s.jsx)(v.Z,{size:20}),"Oda Oluştur"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-gray-500",children:[(0,s.jsx)("div",{className:"flex-1 h-px bg-gray-700"}),(0,s.jsx)("span",{className:"text-sm",children:"veya"}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gray-700"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Oda kodu (\xf6rn: ABC123)",value:o,onChange:e=>I(e.target.value.toUpperCase()),className:"input-dark text-lg uppercase tracking-widest text-center",maxLength:6}),(0,s.jsx)("button",{onClick:ei,disabled:!a.trim()||!o.trim()||K,className:"btn-secondary w-full py-4 text-lg",children:"Odaya Katıl"}),B&&(0,s.jsx)("p",{className:"text-red-400 text-center text-sm",children:B})]})]})});if("lobby"===e&&H)return(0,s.jsx)("main",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0a0a0f] via-[#12121a] to-[#0a0a0f]",children:(0,s.jsx)("div",{className:"w-full max-w-lg",children:(0,s.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Oda Kodu"}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)("span",{className:"text-4xl font-bold tracking-[0.3em]",style:{fontFamily:"var(--font-display)"},children:H.id}),(0,s.jsx)("button",{onClick:()=>{(null==H?void 0:H.id)&&(navigator.clipboard.writeText(H.id),E(!0),setTimeout(()=>E(!1),2e3))},className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition",children:D?(0,s.jsx)(w.Z,{size:20,className:"text-green-400"}):(0,s.jsx)(k.Z,{size:20})})]}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Bu kodu arkadaşlarınla paylaş!"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("p",{className:"text-gray-400 text-sm mb-3 flex items-center gap-2",children:[(0,s.jsx)(v.Z,{size:16}),"Oyuncular (",A.length,"/8)"]}),(0,s.jsx)("div",{className:"space-y-2",children:A.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/50",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:z[t]},children:e.name.charAt(0).toUpperCase()}),(0,s.jsx)("span",{className:"flex-1 font-medium",children:e.name}),e.isHost&&(0,s.jsx)(N.Z,{size:18,className:"text-yellow-400"}),e.id===P&&(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"(Sen)"})]},e.id))})]}),V?(0,s.jsx)("button",{onClick:ec,disabled:A.length<1||Q,className:"btn-primary w-full py-4 text-lg flex items-center justify-center gap-2",children:Q?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Konum Aranıyor..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.Z,{size:20}),"Oyunu Başlat"]})}):(0,s.jsxs)("div",{className:"text-center py-4 text-gray-400",children:[(0,s.jsx)(S.Z,{size:24,className:"mx-auto mb-2 animate-pulse"}),"Host'un oyunu başlatması bekleniyor..."]}),(0,s.jsx)("button",{onClick:J,className:"w-full mt-3 py-2 text-gray-400 hover:text-white transition text-sm",children:"Odadan Ayrıl"})]})})});if("game"===e&&H){let e="roundEnd"===H.status,t="gameOver"===H.status,a=(null==Z?void 0:Z.hasGuessed)||!1,l=A.filter(e=>!e.hasGuessed).length,r=H.roundResults?[...H.roundResults].sort((e,t)=>e.distance-t.distance):[],n=[...A].sort((e,t)=>t.totalScore-e.totalScore);return(0,s.jsxs)("main",{className:"relative w-screen h-screen overflow-hidden",children:[(0,s.jsx)("header",{className:"absolute top-0 left-0 right-0 z-30 p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-red-600 p-2 rounded-xl",children:(0,s.jsx)(j.Z,{size:20,className:"text-white"})}),(0,s.jsx)("span",{className:"text-xl font-bold",style:{fontFamily:"var(--font-display)"},children:"T\xfcrkiyeGuessr"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"glass rounded-xl px-4 py-2 flex items-center gap-2",children:[(0,s.jsx)(O.Z,{size:18,className:"text-yellow-400"}),(0,s.jsxs)("span",{className:"font-bold",children:[H.currentRound," / ",H.totalRounds]})]}),(0,s.jsxs)("div",{className:"glass rounded-xl px-4 py-2 flex items-center gap-2",children:[(0,s.jsx)(R.Z,{size:18,className:"text-yellow-400"}),(0,s.jsx)("span",{className:"font-bold",children:(null==Z?void 0:Z.totalScore)||0})]})]})]})}),(0,s.jsx)("div",{ref:$,className:"absolute inset-0 z-0",style:{width:"100%",height:"100%",background:"#1a1a24"}}),Q&&(0,s.jsx)("div",{className:"absolute inset-0 z-40 bg-black/80 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Konum y\xfckleniyor..."})]})}),!e&&!t&&(0,s.jsxs)("div",{className:"absolute bottom-6 right-6 z-20 w-80 h-52 glass rounded-2xl overflow-hidden transition-all hover:w-[450px] hover:h-[350px]",children:[(0,s.jsx)("div",{ref:ea,className:"w-full h-full pointer-events-auto"}),!a&&(0,s.jsx)("div",{className:"absolute bottom-0 inset-x-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:(0,s.jsx)("button",{onClick:eu,disabled:!L,className:"btn-primary w-full py-3 text-sm",children:L?"TAHMİN ET":"Haritaya Tıkla"})}),a&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(w.Z,{size:40,className:"text-green-400 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-white font-medium",children:"Tahmin G\xf6nderildi!"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:l>0?"".concat(l," kişi bekleniyor..."):"Sonu\xe7lar hesaplanıyor..."})]})})]}),!e&&!t&&(0,s.jsx)("div",{className:"absolute bottom-6 left-6 z-20 glass rounded-xl p-3",children:(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:A.map((e,t)=>(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(e.hasGuessed?"ring-2 ring-green-400":"opacity-50"),style:{backgroundColor:z[t]},title:e.name,children:e.hasGuessed?"✓":e.name.charAt(0)},e.id))})}),e&&(0,s.jsx)("div",{className:"absolute inset-0 z-50 bg-black/70 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"glass rounded-2xl p-6 w-full max-w-md",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-center mb-4",style:{fontFamily:"var(--font-display)"},children:["Tur ",H.currentRound," Sonu\xe7ları"]}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:r.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl ".concat(0===t?"bg-yellow-500/20 border border-yellow-500/50":"bg-gray-800/50"),children:[(0,s.jsx)("span",{className:"text-2xl font-bold w-8",children:0===t?"\uD83E\uDD47":1===t?"\uD83E\uDD48":2===t?"\uD83E\uDD49":"".concat(t+1,".")}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.playerName}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:(a=e.distance)<1?"".concat(Math.round(1e3*a)," m"):a<10?"".concat(a.toFixed(1)," km"):"".concat(Math.round(a)," km")})]}),(0,s.jsxs)("span",{className:"text-xl font-bold text-yellow-400",children:["+",e.score]})]},e.odlayerId)})}),V&&(0,s.jsxs)("button",{onClick:ed,className:"btn-primary w-full py-3 flex items-center justify-center gap-2",children:[H.currentRound>=H.totalRounds?"Sonu\xe7ları G\xf6r":"Sonraki Tur",(0,s.jsx)(T.Z,{size:18})]}),!V&&(0,s.jsx)("p",{className:"text-center text-gray-400",children:"Host sonraki turu başlatacak..."})]})}),t&&(0,s.jsx)("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"glass rounded-2xl p-6 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"text-6xl mb-2",children:"\uD83C\uDFC6"}),(0,s.jsx)("h2",{className:"text-3xl font-bold",style:{fontFamily:"var(--font-display)"},children:"Oyun Bitti!"})]}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:n.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl ".concat(0===t?"bg-gradient-to-r from-yellow-500/30 to-yellow-600/30 border border-yellow-500":"bg-gray-800/50"),children:[(0,s.jsx)("span",{className:"text-3xl font-bold w-10",children:0===t?"\uD83E\uDD47":1===t?"\uD83E\uDD48":2===t?"\uD83E\uDD49":"".concat(t+1,".")}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:z[A.findIndex(t=>t.id===e.id)]},children:e.name.charAt(0)}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"font-medium text-lg",children:e.name})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-yellow-400",children:e.totalScore})]},e.id))}),V&&(0,s.jsxs)("button",{onClick:em,className:"btn-primary w-full py-4 flex items-center justify-center gap-2",children:[(0,s.jsx)(M.Z,{size:20}),"Yeni Oyun"]}),!V&&(0,s.jsx)("p",{className:"text-center text-gray-400",children:"Host yeni oyun başlatabilir..."})]})})]})}return null}}},function(e){e.O(0,[481,962,971,23,744],function(){return e(e.s=6706)}),_N_E=e.O()}]);